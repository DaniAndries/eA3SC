{% extends 'index.html' %}

{% block title %}
Configuración - eA3SC
{% endblock %}

{% block content %}
<h1 class="title mt-4 text-center">Propiedades</h1>
<hr>
<form id="PropertiesForm">
  <div class="row">
    <!-- Tarjeta de Impresoras -->
    <div class="col-md-3 mx-2 mt-4">
      <div class="container mt-4">
        <h4 class="card-title">Impresoras</h4>
        <hr>
        <ul class="list-unstyled">
          <li class="mb-2 row g-2 align-items-center">
            <div class="col-4"><strong>Impresión SC:</strong></div>
            <div class="col-8">
              <select value="{{ config_dict['PRINT_SC'] }}" id="printerSelect" name="printer" class="form-select" required></select>
            </div>
          </li>
          <li class="mb-2 row g-2 align-items-center">
            <div class="col-4"><strong>Tiempo en segundos:</strong></div>
            <div class="col-8">
              <input type="number" class="form-control" id="TIME_SECONDS" value="{{ config_dict['TIME_SECONDS'] }}" max="60" min="1">
            </div>
          </li>
        </ul>
      </div>
    </div>

    <!-- Tarjeta de Mail -->
    <div class="col-md-3 mx-2 mt-4">
      <div class="container mt-4">
        <h4 class="card-title">Mail</h4>
        <hr>
        <ul class="list-unstyled">
          {% for key in ['NOTIFICATION', 'EMAIL', 'PASSWORD', 'PORT', 'HOST', 'TO', 'CC', 'SUBJECT'] %}
          <li class="mb-2 row g-2 align-items-center">
            <div class="col-4"><strong>{{ key.replace('_', ' ').title() }}:</strong></div>
            <div class="col-8">
              <input type="{% if 'PASSWORD' in key %}password{% else %}text{% endif %}" 
                     class="form-control" 
                     id="{{ key }}" 
                     value="{{ config_dict[key] }}">
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <!-- Tarjeta de Base de Datos -->
    <div class="col-md-3 mx-2 mt-4">
      <div class="container mt-4">
        <h4 class="card-title">Base de Datos</h4>
        <hr>
        <ul class="list-unstyled">
          {% for key in ['USER_DB', 'PASSWORD_DB', 'SERVER', 'DATABASE_DB'] %}
          <li class="mb-2 row g-2 align-items-center">
            <div class="col-4"><strong>{{ key.replace('_', ' ').title() }}:</strong></div>
            <div class="col-8">
              <input type="{% if 'PASSWORD' in key %}password{% else %}text{% endif %}" 
                     class="form-control" 
                     id="{{ key }}" 
                     value="{{ config_dict[key] }}">
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
  <div class="text-center mt-4">
    <button type="submit" class="btn btn-primary mb-3">Guardar</button>
  </div>
</form>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
{% endblock %}
